<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<script type="text/javascript" src ="../js/jumin.js"></script>
<script type="text/javascript">
/*
var jumin = new Jumin('801212-1234560');
// getter를 통해서 값을 읽어오기
console.log(jumin.jumin_no);
//setter를 통해서 값을 설정하기
jumin.jumin_no = '901212-1234568';
console.log(jumin.jumin_no);
console.log(jumin.getYear());
console.log(jumin.getAge());
*/
var regular_jumin = /^(?:[0-9]{2}(?:0[1-9]|1[0-2])(?:0[1-9]|[1,2][0-9]|3[0,1]))-[1-8][0-9]{6}$/;

function calc(){
	var jumin_no = document.getElementById("jumin_no").value;
	if(regular_jumin.test(jumin_no)==false){
		alert("주민번호 형식이 틀립니다");
		document.getElementById("jumin_no").value = ''; // 값 지우기
		document.getElementById("jumin_no").focus();
		return;
	} else{
		var jumin = new Jumin(jumin_no);
		var birthYear = jumin.getYear();
		var age = jumin.getAge();
		var gender = jumin.getGender();
		
		//가져온 값을 테이블내에 넣기
		document.getElementById("birth_year").innerHTML = birthYear;
		document.getElementById("jumin_no1").innerHTML = jumin_no;
		document.getElementById("age").innerHTML = age;
		document.getElementById("gender").innerHTML = gender;
	}
}


</script>


</head>
<body>

주민등록번호:<input id="jumin_no" value="901212-1234560"> <input type="button" value="부가정보추출" onclick="calc();">
<hr>
<table border = "1" width="500">
	<tr>
	<th width="150px">주민번호</th>
	<td><span id="jumin_no1"></span></td>
	</tr>
	<tr>
	<th width="150px">출생년도</th>
	<td><span id="birth_year"></span></td>
	</tr>
	<tr>
	<th width="150px">나이</th>
	<td><span id="age"></span></td>
	</tr>
	<tr>
	<th width="150px">띠</th>
	<td><span id="tti"></span></td>
	</tr>
	<tr>
	<th width="150px">성별</th>
	<td><span id="gender"></span></td>
	</tr>
	<tr>
	<th width="150px">지역</th>
	<td><span id="location"></span></td>
	</tr>
</table>


</body>
</html>